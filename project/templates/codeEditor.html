<!DOCTYPE html>
<html lang="en">

<link rel="stylesheet" href="../static/node_modules/editor.md/css/editormd.css"/>
<script src="../static/js/jquery.min.js"></script>
<script src="../static/script/jquery-3.5.1.js"></script>

<style>
    .translate{
        margin-left: 4%;
        width: 94%;
        height: 384px;
        border: 3px solid black;
        padding: 1%;
        font-size: 18px;
    }
</style>

<div class="container">

    <div class="col-md-offset-3 col-md-8" align="center" style="margin-top:20px">
        <label class="WriteIndex-titleInput Input-wrapper Input-wrapper--multiline">
            <textarea id="title" name="title" rows="1" class="Input" maxlength="30"
                      placeholder="        Enter Title (Max: 30 letters)"
                      style="-webkit-tap-highlight-color: rgba(26,26,26,0);
                            -webkit-box-flex: 1;
                            flex: 1 1;
                            padding: 0;
                            font-family: inherit;
                            resize: none;
                            color: #1a1a1a;
                            overflow: hidden;
                            min-height: 44px;
                            display: block;
                            width: 550px;
                            border: 0;
                            font-size: 32px;
                            line-height: 1.4;
                            font-weight: 600;
                            outline: none;
                            box-shadow: none;
                            height: 44px;"></textarea>
        </label>
    </div>

    <div style="float:left; width: 40%; margin-left:10%; height:420px; margin-top:20px">
        <video width="95%" height="400px" controls autoplay>
            <source src = "{{ filename }}" type="video/mp4">
            <object data= "{{ filename }}" width="320" height="240">
                <embed width="95%" height="400px" src="{{ filename }}">
            </object>
        </video>
    </div>

    <div style="float:left; width: 40%; margin-right:10%; height:420px; margin-top:20px">
        <div class="translate" id = 'translate-text'>
            this is the content for video ...
        </div>
    </div>

    <div id="test-editor">
        <textarea style="display:none;" class="content-markdown" name="content-markdown"></textarea>
    </div>

</div>

<script src="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>
<script src="../static/node_modules/editor.md/editormd.min.js"></script>
<script type="text/javascript">
$(function() {
    var editor = editormd("test-editor", {
        placeholder:'This editor supports Markdown editing, write on the left, preview on the right',
        width:'1130px',
        height:'500px',
        syncScrolling : "single",
        path: "../static/node_modules/editor.md/lib/",   //editor.md插件的lib目录地址
        saveHTMLToTextarea: true,
        emoji: true,
        taskList: true,
        theme : "dark",
        toolbarIcons : function() {  //自定义工具栏
            return ["undo","redo","search","|","bold","del","italic","quote",
                "uppercase","lowercase","|","h1","h2","h3","h4","h5","h6","|",
                "list-ul","list-ol","hr","|","link","reference-link","image",
                "table","code","preformatted-text","code-block","datetime",
                "emoji","pagebreak","|","clear","watch","preview"]
        },
    });
});
</script>


<script type="text/javascript">
    window.onload = function(){
        document.getElementById('title').addEventListener('keydown',function(e){
            if(e.keyCode!=13) return;
            e.preventDefault();
            this.value += '';
        });
    };
</script>

<script>
    str = "{{ text }}"
    document.getElementById('translate-text').innerHTML = str;
</script>

</html>